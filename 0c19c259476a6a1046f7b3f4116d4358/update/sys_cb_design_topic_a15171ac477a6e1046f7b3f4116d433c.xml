<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Travel Card Top-Up">e15171ac477a6e1046f7b3f4116d4328</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"90901bca742d41eebd8833d1741d831c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"90901bca742d41eebd8833d1741d831c"}],"goals":[{"name":"primary","trigger_id":"90901bca742d41eebd8833d1741d831c","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"b324b857337549b3adb213073cb5c5ef","name":"Start","expert_mode":false},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"4374ecf6c87e4c479773267a73d6a5ab","name":"End","expert_mode":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"Hii,{0}\", vaContext.getRequesterLang(), [vaInputs.user.name.getDisplayValue()])"}],"request_feedback":true,"isCollapsible":true,"id":"200881b10ac6467f8b2eda1672c7ebc0","name":"Welcome Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"27043aaf5eb3412a901f9c05932f140f","name":"Choose Action","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"e2e1b6fe6809464a8d2eadb99b82569f","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"How Would You Like to do\", vaContext.getRequesterLang())"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"description":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Check status of request","expression":{"type":"Applicability","mode":"query","value":"choose_action=check request status"},"id":"c40a0979aec541e58357ea777692a5e4","name":"Check status of request","expert_mode":false},{"type":"Branch","label":"Cancel Request","expression":{"type":"Applicability","mode":"query","value":"choose_action=Cancel Request"},"id":"56ad76b594bb4fddbb2febf6c0797a08","name":"Cancel Request","expert_mode":false}],"id":"fa60c4501770474fa7106a434fbb7b6b","goal_id":"primary","expert_mode":false},{"type":"InputPrompt","variable_id":"10fb13d71ea44a47a723b46b46b25791","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Enter your Request Reference Number\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"metadataScript":"","cardName":"","cardFields":[],"id":"a750b799f1784ecc94edd20d9ef778e2","name":"Get Request Reference Number","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"number={{vaInputs.get_request_reference_number}}","variable_id":"90263d9fff95488abd4bf5e523087278","id":"0daba72770dd4ff8a474eac5642b6bff","name":"Get the request record","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"condition":{"type":"Condition","mode":"glide_query","value":"number={{vaInputs.get_request_reference_number}}"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_1791348_travel_0_travel_card_recharge_request_details","variable_id":"90263d9fff95488abd4bf5e523087278","fields":["employee_id","duration_from","duration_to","status"],"request_feedback":true,"id":"6743147740884cd3b99362b8f3176373","name":"show record","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"condition":{"type":"Condition","mode":"glide_query","value":""}},{"type":"InputPrompt","variable_id":"213a9204a4804cdcb3b505efb81cebf1","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Do you want to end the conversion?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"metadataScript":"","cardName":"","cardFields":[],"id":"29d46b2136d9416cae993b10fa5dcc22","name":"End Card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"InputPrompt","variable_id":"4a8f95ec540444f4879478404b17b73e","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please enter your reference number\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"metadataScript":"","cardName":"","cardFields":[],"id":"ee448ef6bec24a6188e6b780fd709238","name":"Get Reference Number","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"number={{vaInputs.get_reference_number}}^status=3","variable_id":"d8ed200fc03d485eb71ca4e913e1d38b","id":"538ee95283294d338809fcdcd41ec851","name":"Cancel Request","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"condition":{"type":"Condition","mode":"glide_query","value":"number={{vaInputs.get_reference_number}}^status=3"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"If yes","expression":{"type":"Applicability","mode":"query","value":"cancel_requestISNOTEMPTY"},"id":"a404e23dc51a4e8d9ac3240e768b3bac","name":"If yes","expert_mode":false},{"type":"Branch","label":"If No","expression":{"type":"Applicability","mode":"query","value":""},"id":"aa69dc2bb2fb4084a6dd2081cc010ad1","name":"If No","expert_mode":false}],"id":"1aa2813ef2184dc59032bff73a949c3b","goal_id":"primary","expert_mode":false},{"type":"CRUDAction","mode":"update","query":"status=11","variable_id":"d8ed200fc03d485eb71ca4e913e1d38b","id":"048e32c7c7504edb993090ae677b4f8a","name":"Update Record","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"attachments":[{"type":"String","mode":"string","value":""}]},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"Your request has been cancelled successfully.\", vaContext.getRequesterLang())"}],"request_feedback":true,"isCollapsible":true,"id":"1bee21d94b9b443abca6899d647d61fc","name":"Cancelled","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:319d5d5847b22e1046f7b3f4116d436f:node:af5572d6a54843b1b34349593ec46286:field:0\", vaContext.getRequesterLang())"}],"request_feedback":true,"isCollapsible":true,"id":"af5572d6a54843b1b34349593ec46286","name":"If not exists","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"yes","expression":{"type":"Applicability","mode":"query","value":"end_card=true"},"id":"851f6502f6564a358774c03d56c21b72","name":"yes","expert_mode":false},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"end_card=false"},"id":"e90a3c1f4f334228a56db80a11d7e94e","name":"No","expert_mode":false}],"id":"dfedaf24bdb24ea2a0d320ab8a2c7b20","goal_id":"primary","expert_mode":false}],"edges":[{"type":"Edge","source_node_id":"b324b857337549b3adb213073cb5c5ef","target_node_id":"200881b10ac6467f8b2eda1672c7ebc0","id":"2ef165a903aa4c73aaa1560a665fff7a"},{"type":"Edge","source_node_id":"200881b10ac6467f8b2eda1672c7ebc0","target_node_id":"27043aaf5eb3412a901f9c05932f140f","id":"8902fd8f02204954beb0fe8907199d39"},{"type":"Edge","source_node_id":"27043aaf5eb3412a901f9c05932f140f","target_node_id":"fa60c4501770474fa7106a434fbb7b6b","id":"ec32ecb0d3e0402d875cae0e5c90c436"},{"type":"Edge","source_node_id":"fa60c4501770474fa7106a434fbb7b6b","target_node_id":"a750b799f1784ecc94edd20d9ef778e2","branch_id":"c40a0979aec541e58357ea777692a5e4","id":"07c185c392a8485990278e5e2063b622","name":"c40a0979aec541e58357ea777692a5e4"},{"type":"Edge","source_node_id":"a750b799f1784ecc94edd20d9ef778e2","target_node_id":"0daba72770dd4ff8a474eac5642b6bff","id":"abfe958309834e239b0d4806e228d083"},{"type":"Edge","source_node_id":"0daba72770dd4ff8a474eac5642b6bff","target_node_id":"6743147740884cd3b99362b8f3176373","id":"2d49a867490144d7bfdf6f1a036753df"},{"type":"Edge","source_node_id":"6743147740884cd3b99362b8f3176373","target_node_id":"29d46b2136d9416cae993b10fa5dcc22","id":"9f87dc6892184e3f8f2cbce829b71f3c"},{"type":"Edge","source_node_id":"fa60c4501770474fa7106a434fbb7b6b","target_node_id":"ee448ef6bec24a6188e6b780fd709238","branch_id":"56ad76b594bb4fddbb2febf6c0797a08","id":"86ca7627d8f340adbc2dab87f397641a","name":"56ad76b594bb4fddbb2febf6c0797a08"},{"type":"Edge","source_node_id":"ee448ef6bec24a6188e6b780fd709238","target_node_id":"538ee95283294d338809fcdcd41ec851","id":"f60f9fcd03a74389b122962a566ef852"},{"type":"Edge","source_node_id":"538ee95283294d338809fcdcd41ec851","target_node_id":"1aa2813ef2184dc59032bff73a949c3b","id":"163bb2fa1e534048986d9dc499d1ce01"},{"type":"Edge","source_node_id":"1aa2813ef2184dc59032bff73a949c3b","target_node_id":"048e32c7c7504edb993090ae677b4f8a","branch_id":"a404e23dc51a4e8d9ac3240e768b3bac","id":"f86604da7b214ceeb5683b384eea6690","name":"a404e23dc51a4e8d9ac3240e768b3bac"},{"type":"Edge","source_node_id":"048e32c7c7504edb993090ae677b4f8a","target_node_id":"1bee21d94b9b443abca6899d647d61fc","id":"f3d55961dc1f47a9a7fa85c3e66149be"},{"type":"Edge","source_node_id":"1bee21d94b9b443abca6899d647d61fc","target_node_id":"4374ecf6c87e4c479773267a73d6a5ab","id":"861f308300904d089a0ea9708748aa52"},{"type":"Edge","source_node_id":"1aa2813ef2184dc59032bff73a949c3b","target_node_id":"af5572d6a54843b1b34349593ec46286","branch_id":"aa69dc2bb2fb4084a6dd2081cc010ad1","id":"95e6f845e3b74d9f9ff69d122eee790e","name":"aa69dc2bb2fb4084a6dd2081cc010ad1"},{"type":"Edge","source_node_id":"af5572d6a54843b1b34349593ec46286","target_node_id":"4374ecf6c87e4c479773267a73d6a5ab","id":"6e9526d849bc4ef8947e960bf7f060b0"},{"type":"Edge","source_node_id":"29d46b2136d9416cae993b10fa5dcc22","target_node_id":"dfedaf24bdb24ea2a0d320ab8a2c7b20","id":"c940407b99994967acf08de7b8468262"},{"type":"Edge","source_node_id":"dfedaf24bdb24ea2a0d320ab8a2c7b20","target_node_id":"4374ecf6c87e4c479773267a73d6a5ab","branch_id":"851f6502f6564a358774c03d56c21b72","id":"5990f737713741189950cca07b9a5bcd","name":"851f6502f6564a358774c03d56c21b72"},{"type":"Edge","source_node_id":"dfedaf24bdb24ea2a0d320ab8a2c7b20","target_node_id":"27043aaf5eb3412a901f9c05932f140f","branch_id":"e90a3c1f4f334228a56db80a11d7e94e","id":"deb984ffc5bf42b6a9d7326e83a8b841","name":"e90a3c1f4f334228a56db80a11d7e94e"}],"id":"primary"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","auto_select":false,"id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Choice","choices":[{"name":"Cancel Request","element":"Cancel Request"},{"name":"check request status","element":"check request status"}],"id":"e2e1b6fe6809464a8d2eadb99b82569f","name":"choose_action","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"label":"Choose Action"},{"type":"String","name":"get_request_reference_number","list":false,"id":"10fb13d71ea44a47a723b46b46b25791","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"Reference","table":"x_1791348_travel_0_travel_card_recharge_request_details","auto_select":false,"id":"90263d9fff95488abd4bf5e523087278","name":"get_the_request_record","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"True/False","id":"213a9204a4804cdcb3b505efb81cebf1","name":"end_card","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"String","name":"get_reference_number","list":false,"id":"4a8f95ec540444f4879478404b17b73e","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"Reference","table":"x_1791348_travel_0_travel_card_recharge_request_details","auto_select":false,"id":"d8ed200fc03d485eb71ca4e913e1d38b","name":"cancel_request","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"Reference","table":"","auto_select":false,"id":"8b1dc7b1c5c34b72a2207023fb63cc69","name":"update_record","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"0c19c259476a6a1046f7b3f4116d4358","domain":"global","topic_type":"STANDARD","channels":[],"dialog_acts_enabled":false,"id":"319d5d5847b22e1046f7b3f4116d436f","name":"Travel Card Top-Up","key_phrases":["Travel Card Top-Up"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"model_type":"nlu_keyword","foundational":false,"modify_confirmation_enabled":false,"context_profiles":[],"title":"Travel Card Top-Up","library":false,"csTopicId":"e15171ac477a6e1046f7b3f4116d4328","readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>319d5d5847b22e1046f7b3f4116d436f</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.78",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "b324b857337549b3adb213073cb5c5ef": {
          "id": "b324b857337549b3adb213073cb5c5ef",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          }
        },
        "4374ecf6c87e4c479773267a73d6a5ab": {
          "id": "4374ecf6c87e4c479773267a73d6a5ab",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          }
        },
        "200881b10ac6467f8b2eda1672c7ebc0": {
          "id": "200881b10ac6467f8b2eda1672c7ebc0",
          "stepType": "TextOutput",
          "name": "Welcome Message",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Hii,"
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.user.name}}",
                        "displayValue": "Input Variables➛User➛Name"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "3fbf9cf7c02e4871922ad05e3a8cf670"
            }
          ],
          "isCollapsible": true,
          "requestFeedback": true,
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "27043aaf5eb3412a901f9c05932f140f": {
          "name": "Choose Action",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "How Would You Like to do"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e2e1b6fe6809464a8d2eadb99b82569f",
          "detailDescription": "",
          "id": "27043aaf5eb3412a901f9c05932f140f",
          "stepType": "ChoicePrompt",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "fa60c4501770474fa7106a434fbb7b6b": {
          "id": "fa60c4501770474fa7106a434fbb7b6b",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a750b799f1784ecc94edd20d9ef778e2": {
          "id": "a750b799f1784ecc94edd20d9ef778e2",
          "stepType": "TextPrompt",
          "name": "Get Request Reference Number",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter your Request Reference Number"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "10fb13d71ea44a47a723b46b46b25791",
          "detailDescription": "",
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "requestFeedback": true
        },
        "0daba72770dd4ff8a474eac5642b6bff": {
          "id": "0daba72770dd4ff8a474eac5642b6bff",
          "stepType": "LookupRecord",
          "name": "Get the request record",
          "condition": {
            "mode": "glide_query",
            "value": "number={{vaInputs.get_request_reference_number}}"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "90263d9fff95488abd4bf5e523087278"
        },
        "6743147740884cd3b99362b8f3176373": {
          "id": "6743147740884cd3b99362b8f3176373",
          "stepType": "RecordOutput",
          "name": "show record",
          "variableId": "90263d9fff95488abd4bf5e523087278",
          "cardTemplate": "General",
          "cardFields": {},
          "mode": "variable",
          "tableName": "x_1791348_travel_0_travel_card_recharge_request_details",
          "fields": [
            "employee_id",
            "duration_from",
            "duration_to",
            "status"
          ],
          "cardDefinition": {
            "name": "Record",
            "value": "General"
          },
          "requestFeedback": true,
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "condition": {
            "mode": "glide_query",
            "value": ""
          }
        },
        "29d46b2136d9416cae993b10fa5dcc22": {
          "id": "29d46b2136d9416cae993b10fa5dcc22",
          "stepType": "BooleanPrompt",
          "name": "End Card",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Do you want to end the conversion?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "213a9204a4804cdcb3b505efb81cebf1",
          "detailDescription": ""
        },
        "ee448ef6bec24a6188e6b780fd709238": {
          "id": "ee448ef6bec24a6188e6b780fd709238",
          "stepType": "TextPrompt",
          "name": "Get Reference Number",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Please enter your reference number"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "4a8f95ec540444f4879478404b17b73e",
          "detailDescription": "",
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "requestFeedback": true
        },
        "538ee95283294d338809fcdcd41ec851": {
          "id": "538ee95283294d338809fcdcd41ec851",
          "stepType": "LookupRecord",
          "name": "Cancel Request",
          "condition": {
            "mode": "glide_query",
            "value": "number={{vaInputs.get_reference_number}}^status=3"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "d8ed200fc03d485eb71ca4e913e1d38b"
        },
        "1aa2813ef2184dc59032bff73a949c3b": {
          "id": "1aa2813ef2184dc59032bff73a949c3b",
          "stepType": "Decision",
          "name": "Decision"
        },
        "048e32c7c7504edb993090ae677b4f8a": {
          "id": "048e32c7c7504edb993090ae677b4f8a",
          "stepType": "CrudAction",
          "name": "Update Record",
          "template": {
            "query": {
              "terms": [
                {
                  "prefix": "",
                  "operator": "=",
                  "operand": "status",
                  "expression": "11",
                  "id": "ea6c0bdc87d344308d516f77e7384175"
                }
              ]
            },
            "queryString": "status=11"
          },
          "mode": "update",
          "record": "d8ed200fc03d485eb71ca4e913e1d38b",
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "attachments": [
            {
              "value": "",
              "mode": "simple"
            }
          ],
          "variableId": "8b1dc7b1c5c34b72a2207023fb63cc69"
        },
        "1bee21d94b9b443abca6899d647d61fc": {
          "id": "1bee21d94b9b443abca6899d647d61fc",
          "stepType": "TextOutput",
          "name": "Cancelled",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Your request has been cancelled successfully."
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "adb590d70f234a1c9ba572b59b1dabd1"
            }
          ],
          "isCollapsible": true,
          "requestFeedback": true,
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "af5572d6a54843b1b34349593ec46286": {
          "id": "af5572d6a54843b1b34349593ec46286",
          "stepType": "TextOutput",
          "name": "If not exists",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "The request is not in 'In Draft' state. So it cannot be cancelled."
                    }
                  ]
                }
              ],
              "mode": "simple",
              "_key": "d45796b8b4274649bfcb20e04adb6658"
            }
          ],
          "isCollapsible": true,
          "requestFeedback": true,
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "dfedaf24bdb24ea2a0d320ab8a2c7b20": {
          "id": "dfedaf24bdb24ea2a0d320ab8a2c7b20",
          "stepType": "Decision",
          "name": "Decision"
        }
      },
      "edges": [
        {
          "id": "2ef165a903aa4c73aaa1560a665fff7a",
          "edgeType": "Edge",
          "source": "b324b857337549b3adb213073cb5c5ef",
          "target": "200881b10ac6467f8b2eda1672c7ebc0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8902fd8f02204954beb0fe8907199d39",
          "edgeType": "Edge",
          "source": "200881b10ac6467f8b2eda1672c7ebc0",
          "target": "27043aaf5eb3412a901f9c05932f140f",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ec32ecb0d3e0402d875cae0e5c90c436",
          "edgeType": "Edge",
          "source": "27043aaf5eb3412a901f9c05932f140f",
          "target": "fa60c4501770474fa7106a434fbb7b6b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "07c185c392a8485990278e5e2063b622",
          "edgeType": "Branch",
          "source": "fa60c4501770474fa7106a434fbb7b6b",
          "target": "a750b799f1784ecc94edd20d9ef778e2",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choose_action=check request status",
            "mode": "query"
          },
          "label": "Check status of request"
        },
        {
          "id": "abfe958309834e239b0d4806e228d083",
          "edgeType": "Edge",
          "source": "a750b799f1784ecc94edd20d9ef778e2",
          "target": "0daba72770dd4ff8a474eac5642b6bff",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2d49a867490144d7bfdf6f1a036753df",
          "edgeType": "Edge",
          "source": "0daba72770dd4ff8a474eac5642b6bff",
          "target": "6743147740884cd3b99362b8f3176373",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9f87dc6892184e3f8f2cbce829b71f3c",
          "edgeType": "Edge",
          "source": "6743147740884cd3b99362b8f3176373",
          "target": "29d46b2136d9416cae993b10fa5dcc22",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "86ca7627d8f340adbc2dab87f397641a",
          "edgeType": "Branch",
          "source": "fa60c4501770474fa7106a434fbb7b6b",
          "target": "ee448ef6bec24a6188e6b780fd709238",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.choose_action=Cancel Request",
            "mode": "query"
          },
          "label": "Cancel Request"
        },
        {
          "id": "f60f9fcd03a74389b122962a566ef852",
          "edgeType": "Edge",
          "source": "ee448ef6bec24a6188e6b780fd709238",
          "target": "538ee95283294d338809fcdcd41ec851",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "163bb2fa1e534048986d9dc499d1ce01",
          "edgeType": "Edge",
          "source": "538ee95283294d338809fcdcd41ec851",
          "target": "1aa2813ef2184dc59032bff73a949c3b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f86604da7b214ceeb5683b384eea6690",
          "edgeType": "Branch",
          "source": "1aa2813ef2184dc59032bff73a949c3b",
          "target": "048e32c7c7504edb993090ae677b4f8a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.cancel_requestISNOTEMPTY",
            "mode": "query"
          },
          "label": "If yes"
        },
        {
          "id": "f3d55961dc1f47a9a7fa85c3e66149be",
          "edgeType": "Edge",
          "source": "048e32c7c7504edb993090ae677b4f8a",
          "target": "1bee21d94b9b443abca6899d647d61fc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "861f308300904d089a0ea9708748aa52",
          "edgeType": "Edge",
          "source": "1bee21d94b9b443abca6899d647d61fc",
          "target": "4374ecf6c87e4c479773267a73d6a5ab",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "95e6f845e3b74d9f9ff69d122eee790e",
          "edgeType": "Branch",
          "source": "1aa2813ef2184dc59032bff73a949c3b",
          "target": "af5572d6a54843b1b34349593ec46286",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "query",
            "value": ""
          },
          "label": "If No"
        },
        {
          "id": "6e9526d849bc4ef8947e960bf7f060b0",
          "edgeType": "Edge",
          "source": "af5572d6a54843b1b34349593ec46286",
          "target": "4374ecf6c87e4c479773267a73d6a5ab",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c940407b99994967acf08de7b8468262",
          "edgeType": "Edge",
          "source": "29d46b2136d9416cae993b10fa5dcc22",
          "target": "dfedaf24bdb24ea2a0d320ab8a2c7b20",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5990f737713741189950cca07b9a5bcd",
          "edgeType": "Branch",
          "source": "dfedaf24bdb24ea2a0d320ab8a2c7b20",
          "target": "4374ecf6c87e4c479773267a73d6a5ab",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.end_card=true",
            "mode": "query"
          },
          "label": "yes"
        },
        {
          "id": "deb984ffc5bf42b6a9d7326e83a8b841",
          "edgeType": "Branch",
          "source": "dfedaf24bdb24ea2a0d320ab8a2c7b20",
          "target": "27043aaf5eb3412a901f9c05932f140f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.end_card=false",
            "mode": "query"
          },
          "label": "No"
        }
      ]
    }
  },
  "variables": {
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "e2e1b6fe6809464a8d2eadb99b82569f": {
      "id": "e2e1b6fe6809464a8d2eadb99b82569f",
      "name": "choose_action",
      "label": "Choose Action",
      "varType": "choice",
      "choices": [
        {
          "label": "Cancel Request",
          "value": "Cancel Request"
        },
        {
          "label": "check request status",
          "value": "check request status"
        }
      ],
      "category": "vaInputs",
      "nodeId": "27043aaf5eb3412a901f9c05932f140f",
      "isHidden": false
    },
    "10fb13d71ea44a47a723b46b46b25791": {
      "id": "10fb13d71ea44a47a723b46b46b25791",
      "name": "get_request_reference_number",
      "label": "Get Request Reference Number",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTc1MjQyMTQ0MzQ0MCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "a750b799f1784ecc94edd20d9ef778e2",
      "isHidden": false
    },
    "90263d9fff95488abd4bf5e523087278": {
      "id": "90263d9fff95488abd4bf5e523087278",
      "name": "get_the_request_record",
      "label": "Get The Request Record",
      "varType": "reference",
      "table": "x_1791348_travel_0_travel_card_recharge_request_details",
      "category": "vaInputs",
      "nodeId": "6743147740884cd3b99362b8f3176373",
      "isHidden": false
    },
    "213a9204a4804cdcb3b505efb81cebf1": {
      "id": "213a9204a4804cdcb3b505efb81cebf1",
      "name": "end_card",
      "label": "End Card",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs",
      "nodeId": "29d46b2136d9416cae993b10fa5dcc22",
      "isHidden": false
    },
    "4a8f95ec540444f4879478404b17b73e": {
      "id": "4a8f95ec540444f4879478404b17b73e",
      "name": "get_reference_number",
      "label": "Get Reference Number",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTc1MjUwOTM5NzE5MSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "ee448ef6bec24a6188e6b780fd709238",
      "isHidden": false
    },
    "d8ed200fc03d485eb71ca4e913e1d38b": {
      "id": "d8ed200fc03d485eb71ca4e913e1d38b",
      "name": "cancel_request",
      "label": "Cancel Request",
      "varType": "reference",
      "table": "x_1791348_travel_0_travel_card_recharge_request_details",
      "category": "vaInputs",
      "nodeId": "538ee95283294d338809fcdcd41ec851",
      "isHidden": false
    },
    "8b1dc7b1c5c34b72a2207023fb63cc69": {
      "id": "8b1dc7b1c5c34b72a2207023fb63cc69",
      "name": "update_record",
      "label": "Update Record",
      "varType": "reference",
      "table": "",
      "inactive": true,
      "category": "vaInputs",
      "nodeId": "048e32c7c7504edb993090ae677b4f8a",
      "isHidden": false
    }
  }
}</graph>
        <name>Travel Card Top-Up</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-07-14 11:14:48</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>a15171ac477a6e1046f7b3f4116d433c</sys_id>
        <sys_mod_count>4</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Travel Card Recharge Request Details" source="x_1791348_travel_0">0c19c259476a6a1046f7b3f4116d4358</sys_package>
        <sys_policy/>
        <sys_scope display_value="Travel Card Recharge Request Details">0c19c259476a6a1046f7b3f4116d4358</sys_scope>
        <sys_update_name>sys_cb_design_topic_a15171ac477a6e1046f7b3f4116d433c</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-07-15 05:48:17</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
